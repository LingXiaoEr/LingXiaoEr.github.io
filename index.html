<!DOCTYPE html>
<html>

<head>
    <title>❤凌云小二球❤</title>
    <script type="text/javascript" src="./lib/jquery-3.2.1.slim.min.js"></script>
    <script type="text/javascript" src="./lib/popper.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./lib/bootstrap/css/bootstrap.min.css">
    <script type="text/javascript" src="./lib/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="./data.json"></script>
    <script type="text/javascript">
    $(function() {
        _names.forEach((item) => {
                $field = $("<label class='checkbox form-control'><input type='checkbox' value='" + item + "'> " + item + "</label>");
                $field.on("click", (function(field) {
                    return (event) => {
                        field.css("background-color", "pink");
                    }
                })($field)); $("#mainField").append($field);
        })

    })

    function checkAbsence() {
    	var $message;
    	var $missedCount = 0;
        var missedPeople = "";
        $("input[type='checkbox']").each((index, item) => {
            if (!item.checked) {
                missedPeople += item.value + ",";
                $missedCount ++;
            }
        })
        if (!!$missedCount) {
        	$message = "共" + $missedCount+ "人缺席:\n";
            $message += missedPeople.substr(0, missedPeople.length - 1)
        }
        alert($message);
    }
    </script>
    <style type="text/css">
    .AppTitle {
        font-size: 300% !important;
        text-align: center;
    }

    .checkbox.form-control {
        font-size: 250% !important;
    }

    .confirmBtn {
        width: 100%;
        height: 5rem;
        font-size: 300%;
    }
    /*    .checkbox:checked {
    	background-color: green;
    }
    label>input[type=checkbox]:checked {
    	background-color: red;
    }*/
    </style>
</head>

<body>
    <form class="form-horizontal">
        <fieldset>
            <div id="legend" class="">
                <legend class="AppTitle">高一（1）班点名</legend>
            </div>
            <div class="control-group">
                <label class="control-label"></label>
                <div id="mainField" class="controls">
                    <!-- Multiple Checkboxes -->
                    <!--                     <label class="checkbox form-control">
                        <input type="checkbox" value="Option 1"> Option 1
                    </label> -->
                </div>
            </div>
        </fieldset>
    </form>
    <div class="control-group">
        <div class="controls">
            <button class="btn btn-success confirmBtn" onclick="checkAbsence()">确认</button>
        </div>
    </div>
</body>

</html>